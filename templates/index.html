<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>ç®€æ˜“ç•™è¨€æ¿</title>
    <link rel="stylesheet" href="/static/style.css">
    <style>
        .msg { border-bottom: 1px solid #ddd; padding: 8px; margin-bottom: 5px; }
        .meta { font-size: 0.9em; color: #555; display: flex; justify-content: space-between; }
        .delete-btn {
            background-color: #ff6666;
            color: white;
            border: none;
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 0.8em;
            cursor: pointer;
        }
        .sort-links a {
            margin-right: 10px;
            text-decoration: none;
            color: #0078d4;
        }
        .sort-links a.active { font-weight: bold; color: #000; }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ“œ ç®€æ˜“ç•™è¨€æ¿</h1>

    <form action="/submit" method="post">
        <input type="text" name="name" placeholder="ä½ çš„åå­—" required>
        <textarea name="content" placeholder="æƒ³è¯´ç‚¹ä»€ä¹ˆ..." required></textarea>
        <button type="submit">æäº¤ç•™è¨€</button>
    </form>

    <div class="sort-links">
        æ’åºæ–¹å¼ï¼š
        <a href="/?sort=desc" class="{% if sort == 'desc' %}active{% endif %}">æœ€æ–°ä¼˜å…ˆ</a>
        <a href="/?sort=asc" class="{% if sort == 'asc' %}active{% endif %}">æœ€æ—©ä¼˜å…ˆ</a>
    </div>

    <div class="messages">
        {% for msg in messages %}
        <div class="msg">
            <div class="meta">
                <span>ğŸ—“ {{ msg.created_at }} | ğŸ‘¤ {{ msg.name }}</span>
                <a href="/delete/{{ msg.id }}"><button class="delete-btn">åˆ é™¤</button></a>
            </div>
            <div class="content">{{ msg.content }}</div>
        </div>
        {% endfor %}
    </div>

    <a class="clear" href="/clear">æ¸…ç©ºæ‰€æœ‰ç•™è¨€</a>
</div>
</body>
</html>
